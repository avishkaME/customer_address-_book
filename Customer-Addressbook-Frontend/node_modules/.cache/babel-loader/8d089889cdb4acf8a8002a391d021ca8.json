{"remainingRequest":"C:\\Projects\\customer-addressbook-frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Projects\\customer-addressbook-frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Projects\\customer-addressbook-frontend\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Projects\\customer-addressbook-frontend\\src\\components\\CustomerForm.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Projects\\customer-addressbook-frontend\\src\\components\\CustomerForm.vue","mtime":1631259827862},{"path":"C:\\Projects\\customer-addressbook-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Projects\\customer-addressbook-frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Projects\\customer-addressbook-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Projects\\customer-addressbook-frontend\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1628298225000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UuanMiOwppbXBvcnQgeyByZXF1aXJlZCB9IGZyb20gIkB2dWVsaWRhdGUvdmFsaWRhdG9ycyI7CmltcG9ydCB7IHVzZVZ1ZWxpZGF0ZSB9IGZyb20gIkB2dWVsaWRhdGUvY29yZSI7CmltcG9ydCBDdXN0b21lciBmcm9tICIuLi8uLi9zcmMvYXBpcy9DdXN0b21lcnMiOwpleHBvcnQgZGVmYXVsdCB7CiAgc2V0dXA6IGZ1bmN0aW9uIHNldHVwKCkgewogICAgcmV0dXJuIHsKICAgICAgdiQ6IHVzZVZ1ZWxpZGF0ZSgpCiAgICB9OwogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIG5hbWU6ICIiLAogICAgICBuaWM6ICIiLAogICAgICBhZGRyZXNzOiAiIiwKICAgICAgdGVsZXBob25lOiAiIiwKICAgICAgdGVsZXBob25lRmllbGRzOiBbe31dLAogICAgICBzdWJtaXR0ZWQ6IGZhbHNlLAogICAgICB0ZWxlcGhvbmVDb3VudDogMQogICAgfTsKICB9LAogIHZhbGlkYXRpb25zOiBmdW5jdGlvbiB2YWxpZGF0aW9ucygpIHsKICAgIHJldHVybiB7CiAgICAgIG5hbWU6IHsKICAgICAgICByZXF1aXJlZDogcmVxdWlyZWQKICAgICAgfSwKICAgICAgbmljOiB7CiAgICAgICAgcmVxdWlyZWQ6IHJlcXVpcmVkCiAgICAgIH0sCiAgICAgIGFkZHJlc3M6IHsKICAgICAgICByZXF1aXJlZDogcmVxdWlyZWQKICAgICAgfSwKICAgICAgdGVsZXBob25lOiB7CiAgICAgICAgcmVxdWlyZWQ6IHJlcXVpcmVkCiAgICAgIH0KICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkge30sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHt9LAogIG1ldGhvZHM6IHsKICAgIGhhbmRsZVN1Ym1pdDogZnVuY3Rpb24gaGFuZGxlU3VibWl0KGlzRm9ybVZhbGlkKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLnN1Ym1pdHRlZCA9IHRydWU7CgogICAgICBpZiAoIWlzRm9ybVZhbGlkKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9IGVsc2UgewogICAgICAgIHZhciBOZXdDdXN0b21lciA9IHsKICAgICAgICAgIG5hbWU6IHRoaXMubmFtZSwKICAgICAgICAgIG5pYzogdGhpcy5uaWMsCiAgICAgICAgICBhZGRyZXNzOiB0aGlzLmFkZHJlc3MsCiAgICAgICAgICB0ZWxlcGhvbmVzOiBbJzEyMycsICc0NTYnXQogICAgICAgIH07CiAgICAgICAgQ3VzdG9tZXIuYWRkQ3VzdG9tZXIoTmV3Q3VzdG9tZXIpLnRoZW4oZnVuY3Rpb24gKHJlc3ApIHsKICAgICAgICAgIGlmIChyZXNwLmRhdGEuZGF0YSkgewogICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwLmRhdGEuZGF0YSk7CgogICAgICAgICAgICBfdGhpcy4kdG9hc3QuYWRkKHsKICAgICAgICAgICAgICBzZXZlcml0eTogInN1Y2Nlc3MiLAogICAgICAgICAgICAgIHN1bW1hcnk6ICJTdWNjZXNzZnVsIiwKICAgICAgICAgICAgICBkZXRhaWw6IHJlc3AuZGF0YS5tZXNzYWdlLAogICAgICAgICAgICAgIGxpZmU6IDMwMDAKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBfdGhpcy4kcm91dGVyLnB1c2goJy9jdXN0b21lckxpc3QnKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIF90aGlzLiR0b2FzdC5hZGQoewogICAgICAgICAgICAgIHNldmVyaXR5OiAiZXJyb3IiLAogICAgICAgICAgICAgIHN1bW1hcnk6ICJFcnJvciBNZXNzYWdlIiwKICAgICAgICAgICAgICBkZXRhaWw6IHJlc3AuZGF0YS5tZXNzYWdlLAogICAgICAgICAgICAgIGxpZmU6IDMwMDAKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICByZXNldEZvcm06IGZ1bmN0aW9uIHJlc2V0Rm9ybSgpIHsKICAgICAgdGhpcy5uYW1lID0gIiI7CiAgICAgIHRoaXMubmljID0gIiI7CiAgICAgIHRoaXMuYWRkcmVzcyA9ICIiOwogICAgICB0aGlzLnRlbGVwaG9uZSA9IG51bGw7CiAgICAgIHRoaXMuc3VibWl0dGVkID0gZmFsc2U7CiAgICB9LAogICAgaW5jcmVtZW50OiBmdW5jdGlvbiBpbmNyZW1lbnQoKSB7CiAgICAgIHRoaXMudGVsZXBob25lQ291bnQrKzsKICAgICAgdmFyIFRlbGVwaG9uZU9iamVjdCA9IHsKICAgICAgICBjb3VudDogdGhpcy50ZWxlcGhvbmVDb3VudAogICAgICB9OwogICAgICB0aGlzLnRlbGVwaG9uZUZpZWxkcy5wdXNoKFRlbGVwaG9uZU9iamVjdCk7CiAgICAgIGNvbnNvbGUubG9nKHRoaXMudGVsZXBob25lQ291bnQpOwogICAgfSwKICAgIGRlY3JlbWVudDogZnVuY3Rpb24gZGVjcmVtZW50KGV2ZW50KSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgY29uc29sZS5sb2coZXZlbnQpOwoKICAgICAgaWYgKHRoaXMudGVsZXBob25lQ291bnQgPiAyKSB7CiAgICAgICAgdGhpcy50ZWxlcGhvbmVDb3VudC0tOwogICAgICAgIHRoaXMudGVsZXBob25lRmllbGRzLmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQpIHsKICAgICAgICAgIF90aGlzMi50ZWxlcGhvbmVGaWVsZHMuc3BsaWNlKGVsZW1lbnQsIDEpOwogICAgICAgIH0pOwogICAgICAgIGNvbnNvbGUubG9nKHRoaXMudGVsZXBob25lQ291bnQpOwogICAgICB9CiAgICB9LAogICAgcmVzZXQ6IGZ1bmN0aW9uIHJlc2V0KCkgewogICAgICB0aGlzLnJlc2V0Rm9ybSgpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["C:\\Projects\\customer-addressbook-frontend\\src\\components\\CustomerForm.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"form-demo\">\n  <Toast position=\"top-left\" />\n    <div class=\"p-d-flex p-jc-center\">\n      <div class=\"card\">\n        <h5 class=\"p-text-center\">Customer Creation Form</h5>\n        <form @submit.prevent=\"handleSubmit(!v$.$invalid)\" class=\"p-fluid\">\n          <div class=\"p-field p-grid\">\n            <label for=\"name\" class=\"p-col-fixed\" style=\"width: 100px\"\n              >Name</label\n            >\n            <div class=\"p-col\">\n              <InputText\n                id=\"name\"\n                v-model=\"v$.name.$model\"\n                :class=\"{ 'p-invalid': v$.name.$invalid && submitted }\"\n              />\n              <small\n                v-if=\"\n                  (v$.name.$invalid && submitted) || v$.name.$pending.$response\n                \"\n                class=\"p-error\"\n                >{{ v$.name.required.$message.replace(\"Value\", \"Name\") }}</small\n              >\n            </div>\n          </div>\n          <div class=\"p-field p-grid\">\n            <label for=\"nic\" class=\"p-col-fixed\" style=\"width: 100px\"\n              >NIC</label\n            >\n            <div class=\"p-col\">\n              <InputText\n                id=\"nic\"\n                v-model=\"v$.nic.$model\"\n                :class=\"{ 'p-invalid': v$.nic.$invalid && submitted }\"\n              />\n              <small\n                v-if=\"\n                  (v$.nic.$invalid && submitted) || v$.nic.$pending.$response\n                \"\n                class=\"p-error\"\n                >{{ v$.nic.required.$message.replace(\"Value\", \"nic\") }}</small\n              >\n            </div>\n          </div>\n          <div class=\"p-field p-grid\">\n            <label for=\"address\" class=\"p-col-fixed\" style=\"width: 100px\"\n              >Address</label\n            >\n            <div class=\"p-col\">\n              <Textarea\n                id=\"address\"\n                v-model=\"v$.address.$model\"\n                :class=\"{ 'p-invalid': v$.address.$invalid && submitted }\"\n              />\n              <small\n                v-if=\"\n                  (v$.address.$invalid && submitted) ||\n                  v$.address.$pending.$response\n                \"\n                class=\"p-error\"\n                >{{\n                  v$.address.required.$message.replace(\"Value\", \"address\")\n                }}</small\n              >\n            </div>\n          </div>\n          <div class=\"p-formgroup-inline\">\n            <div class=\"p-field\">\n              <label for=\"telephone\" class=\"p-col-fixed\" style=\"width: 75px\"\n                >Telephone</label\n              >\n            </div>\n            <!-- v-for=\"(telephoneField, count) of telephoneFields\"\n              :key=\"count\" -->\n            <div class=\"p-field\">\n              <InputText\n                id=\"telephone\"\n                v-model=\"v$.telephone.$model\"\n                :class=\"{ 'p-invalid': v$.telephone.$invalid && submitted }\"\n              />\n              <small\n                v-if=\"\n                  (v$.telephone.$invalid && submitted) ||\n                  v$.telephone.$pending.$response\n                \"\n                class=\"p-error\"\n                >{{\n                  v$.telephone.required.$message.replace(\"Value\", \"Telephone\")\n                }}</small\n              >\n            </div>\n            <div class=\"\">\n              <Button\n                @click=\"increment\"\n                icon=\"pi pi-plus\"\n                class=\"p-button-rounded p-button-outlined p-mr-2\"\n              />\n              <Button\n                @click=\"decrement(event)\"\n                icon=\"pi pi-minus\"\n                class=\"p-button-rounded p-button-outlined\"\n              />\n            </div>\n          </div>\n          <div class=\"p-grid\">\n            <div class=\"p-col-6\">\n              <Button label=\"Cancel\" class=\"p-mt-2 p-button-danger\" @click=\"reset\" />\n            </div>\n            <div class=\"p-col-6\">\n              <Button type=\"submit\" label=\"Submit\" class=\"p-mt-2\" />\n            </div>\n          </div>\n        </form>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { required } from \"@vuelidate/validators\";\nimport { useVuelidate } from \"@vuelidate/core\";\nimport Customer from \"../../src/apis/Customers\";\n\nexport default {\n  setup: () => ({ v$: useVuelidate() }),\n  data() {\n    return {\n      name: \"\",\n      nic: \"\",\n      address: \"\",\n      telephone: \"\",\n      telephoneFields: [{}],\n      submitted: false,\n      telephoneCount: 1,\n    };\n  },\n  validations() {\n    return {\n      name: {\n        required,\n      },\n      nic: {\n        required,\n      },\n      address: {\n        required,\n      },\n      telephone: {\n        required,\n      },\n    };\n  },\n  created() {},\n  mounted() {},\n  methods: {\n    handleSubmit(isFormValid) {\n      this.submitted = true;\n\n      if (!isFormValid) {\n        return;\n      } else {\n        let NewCustomer = {\n          name : this.name,\n          nic : this.nic,\n          address : this.address,\n          telephones : ['123','456']\n        }\n\n        Customer.addCustomer(NewCustomer).then((resp) => {\n          if(resp.data.data){\n            console.log(resp.data.data);\n            this.$toast.add({\n              severity: \"success\",\n              summary: \"Successful\",\n              detail: resp.data.message,\n              life: 3000,\n            });\n\n            this.$router.push('/customerList');\n          } else {\n            this.$toast.add({\n              severity: \"error\",\n              summary: \"Error Message\",\n              detail: resp.data.message,\n              life: 3000,\n            });\n          }\n        })\n      }\n    },\n    resetForm() {\n      this.name = \"\";\n      this.nic = \"\";\n      this.address = \"\";\n      this.telephone = null;\n      this.submitted = false;\n    },\n    increment() {\n      this.telephoneCount++;\n      let TelephoneObject = {\n        count : this.telephoneCount\n      };\n      this.telephoneFields.push(TelephoneObject);\n      console.log(this.telephoneCount);\n    },\n    decrement(event) {\n      console.log(event);\n      if (this.telephoneCount > 2) {\n        this.telephoneCount--;\n        this.telephoneFields.forEach(element => {\n          this.telephoneFields.splice(element,1);\n        });\n        console.log(this.telephoneCount);\n      }\n    },\n    reset() {\n      this.resetForm();\n    }\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.form-demo {\n  .card {\n    min-width: 800px;\n\n    form {\n      margin-top: 2rem;\n    }\n\n    .p-field {\n      margin-bottom: 1.5rem;\n    }\n  }\n\n  @media screen and (max-width: 960px) {\n    .card {\n      width: 80%;\n    }\n  }\n}\n</style>\n"],"sourceRoot":""}]}