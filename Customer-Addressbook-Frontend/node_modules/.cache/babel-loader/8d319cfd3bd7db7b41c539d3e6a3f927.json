{"remainingRequest":"C:\\Projects\\customer-addressbook-frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Projects\\customer-addressbook-frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Projects\\customer-addressbook-frontend\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Projects\\customer-addressbook-frontend\\src\\components\\CustomerForm.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Projects\\customer-addressbook-frontend\\src\\components\\CustomerForm.vue","mtime":1631339410786},{"path":"C:\\Projects\\customer-addressbook-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Projects\\customer-addressbook-frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Projects\\customer-addressbook-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Projects\\customer-addressbook-frontend\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1628298225000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCB7IHJlcXVpcmVkLCBtaW5MZW5ndGgsIG1heExlbmd0aCwgbnVtZXJpYywgaGVscGVycyB9IGZyb20gIkB2dWVsaWRhdGUvdmFsaWRhdG9ycyI7CmltcG9ydCB7IHVzZVZ1ZWxpZGF0ZSB9IGZyb20gIkB2dWVsaWRhdGUvY29yZSI7CmltcG9ydCBDdXN0b21lciBmcm9tICIuLi8uLi9zcmMvYXBpcy9DdXN0b21lcnMiOwpleHBvcnQgZGVmYXVsdCB7CiAgc2V0dXA6IGZ1bmN0aW9uIHNldHVwKCkgewogICAgcmV0dXJuIHsKICAgICAgdiQ6IHVzZVZ1ZWxpZGF0ZSgpCiAgICB9OwogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIG5hbWU6ICIiLAogICAgICBuaWM6ICIiLAogICAgICBhZGRyZXNzOiAiIiwKICAgICAgdGVsZXBob25lczogW3sKICAgICAgICB0ZWxlcGhvbmVOdW1iZXI6ICIiCiAgICAgIH1dLAogICAgICBzdWJtaXR0ZWQ6IGZhbHNlLAogICAgICB0ZWxlcGhvbmVDb3VudDogMQogICAgfTsKICB9LAogIHZhbGlkYXRpb25zOiBmdW5jdGlvbiB2YWxpZGF0aW9ucygpIHsKICAgIHJldHVybiB7CiAgICAgIG5hbWU6IHsKICAgICAgICByZXF1aXJlZDogcmVxdWlyZWQKICAgICAgfSwKICAgICAgbmljOiB7CiAgICAgICAgcmVxdWlyZWQ6IHJlcXVpcmVkCiAgICAgIH0sCiAgICAgIGFkZHJlc3M6IHsKICAgICAgICByZXF1aXJlZDogcmVxdWlyZWQKICAgICAgfSwKICAgICAgdGVsZXBob25lczogewogICAgICAgICRlYWNoOiB7CiAgICAgICAgICB0ZWxlcGhvbmVOdW1iZXI6IHsKICAgICAgICAgICAgcmVxdWlyZWQ6IHJlcXVpcmVkLAogICAgICAgICAgICBudW1lcmljOiBoZWxwZXJzLndpdGhNZXNzYWdlKCJDb250YWN0IG51bWJlciBzaG91bGQgaGF2ZSBvbmx5IG51bWJlcnMiLCBudW1lcmljKSwKICAgICAgICAgICAgbWluTGVuZ3RoOiBtaW5MZW5ndGgoMTApLAogICAgICAgICAgICBtYXhMZW5ndGg6IG1heExlbmd0aCgxMCkKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkge30sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHt9LAogIG1ldGhvZHM6IHsKICAgIGhhbmRsZVN1Ym1pdDogZnVuY3Rpb24gaGFuZGxlU3VibWl0KGlzRm9ybVZhbGlkKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLnN1Ym1pdHRlZCA9IHRydWU7CgogICAgICBpZiAoIWlzRm9ybVZhbGlkKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9IGVsc2UgewogICAgICAgIHZhciBOZXdDdXN0b21lciA9IHsKICAgICAgICAgIG5hbWU6IHRoaXMubmFtZSwKICAgICAgICAgIG5pYzogdGhpcy5uaWMsCiAgICAgICAgICBhZGRyZXNzOiB0aGlzLmFkZHJlc3MsCiAgICAgICAgICB0ZWxlcGhvbmVzOiB0aGlzLnRlbGVwaG9uZXMKICAgICAgICB9OwogICAgICAgIEN1c3RvbWVyLmFkZEN1c3RvbWVyKE5ld0N1c3RvbWVyKS50aGVuKGZ1bmN0aW9uIChyZXNwKSB7CiAgICAgICAgICBpZiAocmVzcC5kYXRhLmRhdGEpIHsKICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcC5kYXRhLmRhdGEpOwoKICAgICAgICAgICAgX3RoaXMuJHRvYXN0LmFkZCh7CiAgICAgICAgICAgICAgc2V2ZXJpdHk6ICJzdWNjZXNzIiwKICAgICAgICAgICAgICBzdW1tYXJ5OiAiU3VjY2Vzc2Z1bCIsCiAgICAgICAgICAgICAgZGV0YWlsOiByZXNwLmRhdGEubWVzc2FnZSwKICAgICAgICAgICAgICBsaWZlOiAzMDAwCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgX3RoaXMuJHJvdXRlci5wdXNoKCIvY3VzdG9tZXJMaXN0Iik7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBfdGhpcy4kdG9hc3QuYWRkKHsKICAgICAgICAgICAgICBzZXZlcml0eTogImVycm9yIiwKICAgICAgICAgICAgICBzdW1tYXJ5OiAiRXJyb3IgTWVzc2FnZSIsCiAgICAgICAgICAgICAgZGV0YWlsOiByZXNwLmRhdGEubWVzc2FnZSwKICAgICAgICAgICAgICBsaWZlOiAzMDAwCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgcmVzZXRGb3JtOiBmdW5jdGlvbiByZXNldEZvcm0oKSB7CiAgICAgIHRoaXMubmFtZSA9ICIiOwogICAgICB0aGlzLm5pYyA9ICIiOwogICAgICB0aGlzLmFkZHJlc3MgPSAiIjsKICAgICAgdGhpcy50ZWxlcGhvbmUgPSBbIiJdOwogICAgICB0aGlzLnRlbGVwaG9uZS50ZWxlcGhvbmVOdW1iZXIgPSAiIjsKICAgICAgdGhpcy5zdWJtaXR0ZWQgPSBmYWxzZTsKICAgIH0sCiAgICBpbmNyZW1lbnQ6IGZ1bmN0aW9uIGluY3JlbWVudCgpIHsKICAgICAgdGhpcy50ZWxlcGhvbmVDb3VudCsrOwogICAgICB0aGlzLnRlbGVwaG9uZXMucHVzaCh7CiAgICAgICAgdGVsZXBob25lTnVtYmVyOiAiIgogICAgICB9KTsKICAgICAgY29uc29sZS5sb2codGhpcy50ZWxlcGhvbmVDb3VudCk7CiAgICB9LAogICAgZGVjcmVtZW50OiBmdW5jdGlvbiBkZWNyZW1lbnQoKSB7CiAgICAgIGlmICh0aGlzLnRlbGVwaG9uZUNvdW50ID4gMSkgewogICAgICAgIHRoaXMudGVsZXBob25lQ291bnQtLTsKICAgICAgICB0aGlzLnRlbGVwaG9uZXMucG9wKCk7CiAgICAgICAgY29uc29sZS5sb2codGhpcy50ZWxlcGhvbmVDb3VudCk7CiAgICAgIH0KICAgIH0sCiAgICByZXNldDogZnVuY3Rpb24gcmVzZXQoKSB7CiAgICAgIHRoaXMucmVzZXRGb3JtKCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["C:\\Projects\\customer-addressbook-frontend\\src\\components\\CustomerForm.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"form-demo\">\n    <Toast position=\"top-left\" />\n    <div class=\"p-d-flex p-jc-center\">\n      <div class=\"card\">\n        <h3 class=\"p-text-center\">Customer Creation Form</h3>\n        <form @submit.prevent=\"handleSubmit(!v$.$invalid)\" class=\"p-fluid\">\n          <div class=\"p-field p-grid\">\n            <label for=\"name\" class=\"p-col-fixed\" style=\"width: 100px\"\n              >Name</label\n            >\n            <div class=\"p-col\">\n              <InputText\n                id=\"name\"\n                v-model=\"v$.name.$model\"\n                :class=\"{ 'p-invalid': v$.name.$invalid && submitted }\"\n              />\n              <small\n                v-if=\"\n                  (v$.name.$invalid && submitted) || v$.name.$pending.$response\n                \"\n                class=\"p-error\"\n                >{{ v$.name.required.$message.replace(\"Value\", \"Name\") }}</small\n              >\n            </div>\n          </div>\n          <div class=\"p-field p-grid\">\n            <label for=\"nic\" class=\"p-col-fixed\" style=\"width: 100px\"\n              >NIC</label\n            >\n            <div class=\"p-col\">\n              <InputText\n                id=\"nic\"\n                v-model=\"v$.nic.$model\"\n                :class=\"{ 'p-invalid': v$.nic.$invalid && submitted }\"\n              />\n              <small\n                v-if=\"\n                  (v$.nic.$invalid && submitted) || v$.nic.$pending.$response\n                \"\n                class=\"p-error\"\n                >{{ v$.nic.required.$message.replace(\"Value\", \"nic\") }}</small\n              >\n            </div>\n          </div>\n          <div class=\"p-field p-grid\">\n            <label for=\"address\" class=\"p-col-fixed\" style=\"width: 100px\"\n              >Address</label\n            >\n            <div class=\"p-col\">\n              <Textarea\n                id=\"address\"\n                v-model=\"v$.address.$model\"\n                :class=\"{ 'p-invalid': v$.address.$invalid && submitted }\"\n              />\n              <small\n                v-if=\"\n                  (v$.address.$invalid && submitted) ||\n                  v$.address.$pending.$response\n                \"\n                class=\"p-error\"\n                >{{\n                  v$.address.required.$message.replace(\"Value\", \"address\")\n                }}</small\n              >\n            </div>\n          </div>\n          <div class=\"p-grid\">\n            <div class=\"p-col-8\" v-for=\"(telephone, i) in telephones\" :key=\"i\">\n              <div class=\"p-grid p-pr-0 p-pl-0\">\n                <div\n                  class=\"p-col-4 p-text-left p-pr-0 p-pl-0\"\n                  style=\"width: 100px\"\n                >\n                  <label for=\"telephone\" class=\"p-col-fixed\" style=\"width: 75px\"\n                    >Phone {{ i + 1 }}</label\n                  >\n                </div>\n                <div class=\"p-col-8\">\n                  <div class=\"p-field\">\n                    <InputText\n                      id=\"telephone\"\n                      v-model=\"telephone.telephoneNumber\"\n                      required\n                      placeholder=\"0xxxxxxxxx\"\n                      type=\"tel\"\n                      pattern=\"[0-9]{10}\"\n                    />\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div class=\"p-col-4 p-text-left\">\n              <Button\n                @click=\"increment\"\n                icon=\"pi pi-plus\"\n                class=\"p-button-rounded p-button-outlined p-mr-2\"\n              />\n              <Button\n                @click=\"decrement()\"\n                icon=\"pi pi-minus\"\n                class=\"p-button-rounded p-button-outlined\"\n              />\n            </div>\n          </div>\n          <div class=\"p-grid\">\n            <div class=\"p-col-3\">\n              <Button\n                label=\"Cancel\"\n                class=\"p-mt-2 p-button-danger\"\n                @click=\"reset\"\n              />\n            </div>\n            <div class=\"p-col-3\"></div>\n            <div class=\"p-col-3\">\n              <Button type=\"submit\" label=\"Submit\" class=\"p-mt-2\" />\n            </div>\n          </div>\n        </form>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport {\n  required,\n  minLength,\n  maxLength,\n  numeric,\n  helpers,\n} from \"@vuelidate/validators\";\nimport { useVuelidate } from \"@vuelidate/core\";\nimport Customer from \"../../src/apis/Customers\";\n\nexport default {\n  setup: () => ({ v$: useVuelidate() }),\n  data() {\n    return {\n      name: \"\",\n      nic: \"\",\n      address: \"\",\n      telephones: [{ telephoneNumber: \"\" }],\n      submitted: false,\n      telephoneCount: 1,\n    };\n  },\n  validations() {\n    return {\n      name: {\n        required,\n      },\n      nic: {\n        required,\n      },\n      address: {\n        required,\n      },\n      telephones: {\n        $each: {\n          telephoneNumber: {\n            required,\n            numeric: helpers.withMessage(\n              \"Contact number should have only numbers\",\n              numeric\n            ),\n            minLength: minLength(10),\n            maxLength: maxLength(10),\n          },\n        },\n      },\n    };\n  },\n  created() {},\n  mounted() {},\n  methods: {\n    handleSubmit(isFormValid) {\n      this.submitted = true;\n\n      if (!isFormValid) {\n        return;\n      } else {\n        let NewCustomer = {\n          name: this.name,\n          nic: this.nic,\n          address: this.address,\n          telephones: this.telephones,\n        };\n\n        Customer.addCustomer(NewCustomer).then((resp) => {\n          if (resp.data.data) {\n            console.log(resp.data.data);\n            this.$toast.add({\n              severity: \"success\",\n              summary: \"Successful\",\n              detail: resp.data.message,\n              life: 3000,\n            });\n\n            this.$router.push(\"/customerList\");\n          } else {\n            this.$toast.add({\n              severity: \"error\",\n              summary: \"Error Message\",\n              detail: resp.data.message,\n              life: 3000,\n            });\n          }\n        });\n      }\n    },\n    resetForm() {\n      this.name = \"\";\n      this.nic = \"\";\n      this.address = \"\";\n      this.telephone = [\"\"];\n      this.telephone.telephoneNumber = \"\";\n      this.submitted = false;\n    },\n    increment() {\n      this.telephoneCount++;\n\n      this.telephones.push({ telephoneNumber: \"\" });\n      console.log(this.telephoneCount);\n    },\n    decrement() {\n      if (this.telephoneCount > 1) {\n        this.telephoneCount--;\n        this.telephones.pop();\n        console.log(this.telephoneCount);\n      }\n    },\n    reset() {\n      this.resetForm();\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.form-demo {\n  .card {\n    min-width: 800px;\n\n    form {\n      margin-top: 2rem;\n    }\n\n    .p-field {\n      margin-bottom: 1.5rem;\n    }\n  }\n\n  @media screen and (max-width: 960px) {\n    .card {\n      width: 80%;\n    }\n  }\n}\n</style>\n"],"sourceRoot":""}]}